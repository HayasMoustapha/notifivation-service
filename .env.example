# üìß Event Planner - Notification Service Environment Configuration

# ===========================================
# üöÄ SERVEUR & ENVIRONNEMENT
# ===========================================
PORT=3002
NODE_ENV=development

# ===========================================
# üóÑÔ∏è BASE DE DONN√âES POSTGRESQL
# ===========================================
DB_HOST=localhost
DB_PORT=5432
DB_NAME=event_planner_notifications
DB_USER=postgres
DB_PASSWORD=postgres
DB_SSL=false

# Bootstrap automatique de la base de donn√©es
DB_AUTO_BOOTSTRAP=false

# ===========================================
# üîê AUTHENTIFICATION UNIFI√âE
# ===========================================
# ‚ö†Ô∏è IMPORTANT: Utiliser le m√™me secret que l'auth service
JWT_SECRET=your_super_secure_256_bit_secret_key_change_in_production
JWT_ALGORITHM=HS256
JWT_ISSUER=auth-service
JWT_AUDIENCE=event-planner

# Configuration validation JWT
JWT_VERIFY_ISSUER=true
JWT_VERIFY_AUDIENCE=true
JWT_VERIFY_EXPIRATION=true
JWT_MAX_AGE=7d
JWT_CLOCK_TOLERANCE=0

# ===========================================
# üåê INTER-SERVICES COMMUNICATION
# ===========================================
# Token partag√© pour communication entre services
SHARED_SERVICE_TOKEN=shared-service-token-abcdef12345678901234567890

# URLs des autres services
AUTH_SERVICE_URL=http://localhost:3000
CORE_SERVICE_URL=http://localhost:3001
PAYMENT_SERVICE_URL=http://localhost:3003
TICKET_GENERATOR_SERVICE_URL=http://localhost:3004
SCAN_VALIDATION_SERVICE_URL=http://localhost:3005

# ===========================================
# üíæ CACHE REDIS & QUEUES
# ===========================================
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=your_redis_password
REDIS_DB=2

# Configuration queues
QUEUE_REDIS_URL=redis://localhost:6379/2
QUEUE_DEFAULT_JOB_OPTIONS_RETRY_ATTEMPTS=3
QUEUE_DEFAULT_JOB_OPTIONS_BACKOFF=exponential

# ===========================================
# üìß EMAIL SERVICE (SENDGRID)
# ===========================================
SENDGRID_API_KEY=SG.your_sendgrid_api_key
FROM_EMAIL=noreply@eventplanner.com
FROM_NAME=Event Planner

# Configuration SMTP (fallback)
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_SECURE=false
SMTP_USER=your_email@gmail.com
SMTP_PASS=your_app_password

# ===========================================
# üì± SMS SERVICE (TWILIO PRIMAIRE)
# ===========================================
TWILIO_ACCOUNT_SID=your_twilio_account_sid
TWILIO_AUTH_TOKEN=your_twilio_auth_token
TWILIO_PHONE_NUMBER=+1234567890

# ===========================================
# üì± VONAGE (FALLBACK SMS)
# ===========================================
VONAGE_API_KEY=your_vonage_api_key
VONAGE_API_SECRET=your_vonage_api_secret
VONAGE_FROM_NUMBER=EventPlanner

# ===========================================
# üìù LOGGING
# ===========================================
LOG_LEVEL=info
LOG_FILE_PATH=logs
LOG_MAX_SIZE=20MB
LOG_MAX_FILES=14d

# ===========================================
# üìä MONITORING
# ===========================================
ENABLE_METRICS=true
METRICS_PORT=9092

# ===========================================
# üö¶ RATE LIMITING
# ===========================================
RATE_LIMIT_WINDOW_MS=900000
RATE_LIMIT_MAX_REQUESTS=500
EMAIL_RATE_LIMIT_PER_HOUR=100
SMS_RATE_LIMIT_PER_HOUR=50

# ===========================================
# üìß EMAIL TEMPLATES
# ===========================================
EMAIL_TEMPLATES_PATH=./templates
DEFAULT_EMAIL_LOCALE=fr

# ===========================================
# üì± SMS TEMPLATES
# ===========================================
SMS_MAX_LENGTH=160
SMS_DEFAULT_LOCALE=fr

# ===========================================
# üîÑ WEBHOOKS
# ===========================================
WEBHOOK_TIMEOUT=10000
WEBHOOK_RETRY_ATTEMPTS=3
WEBHOOK_SECRET=your_webhook_secret

# ===========================================
# üìä NOTIFICATION STATISTICS
# ===========================================
ENABLE_DETAILED_LOGGING=true
STATISTICS_RETENTION_DAYS=30
