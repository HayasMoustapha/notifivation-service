{
  "info": {
    "name": "Notification Service API - COMPLETE",
    "description": "Complete API collection for Notification Service with all 30 routes implemented",
    "version": "3.0.0",
    "schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json"
  },
  "auth": {
    "type": "bearer",
    "bearer": [
      {
        "key": "token",
        "value": "{{authToken}}",
        "type": "string"
      }
    ]
  },
  "variable": [
    {
      "key": "base_url",
      "value": "{{baseUrl}}",
      "type": "string"
    },
    {
      "key": "auth_token",
      "value": "{{authToken}}",
      "type": "string"
    }
  ],
  "item": [
    {
      "name": "Email Notifications",
      "item": [
        {
          "name": "Send Email",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"to\": \"{{testEmail}}\",\n  \"subject\": \"Welcome to Event Planner\",\n  \"template\": \"welcome\",\n  \"data\": {\n    \"userName\": \"{{testFirstName}}\",\n    \"eventName\": \"Tech Conference 2026\"\n  },\n  \"priority\": \"normal\"\n}"
            },
            "url": {
              "raw": "{{base_url}}/api/notifications/email",
              "host": ["{{base_url}}"],
              "path": ["api", "notifications", "email"]
            },
            "description": "Send email notification (requires notifications.email.send permission)"
          },
          "response": []
        },
        {
          "name": "Queue Email",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"to\": \"{{testEmail}}\",\n  \"subject\": \"Queued Email\",\n  \"template\": \"event_reminder\",\n  \"data\": {\n    \"eventName\": \"Tech Conference 2026\",\n    \"eventDate\": \"2026-06-15\"\n  },\n  \"priority\": \"high\",\n  \"scheduledAt\": \"2026-01-27T10:00:00Z\"\n}"
            },
            "url": {
              "raw": "{{base_url}}/api/notifications/email/queue",
              "host": ["{{base_url}}"],
              "path": ["api", "notifications", "email", "queue"]
            },
            "description": "Queue email for later delivery (requires notifications.email.queue permission)"
          },
          "response": []
        },
        {
          "name": "Send Bulk Email",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"recipients\": [\n    \"user1@example.com\",\n    \"user2@example.com\",\n    \"user3@example.com\"\n  ],\n  \"subject\": \"Event Reminder\",\n  \"template\": \"event_reminder\",\n  \"data\": {\n    \"eventName\": \"Tech Conference 2026\",\n    \"eventDate\": \"2026-06-15\"\n  },\n  \"priority\": \"high\"\n}"
            },
            "url": {
              "raw": "{{base_url}}/api/notifications/email/bulk",
              "host": ["{{base_url}}"],
              "path": ["api", "notifications", "email", "bulk"]
            },
            "description": "Send bulk email notifications (requires notifications.email.bulk permission)"
          },
          "response": []
        }
      ]
    },
    {
      "name": "SMS Notifications",
      "item": [
        {
          "name": "Send SMS",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"to\": \"{{testPhone}}\",\n  \"message\": \"Your event ticket is confirmed!\",\n  \"template\": \"event_confirmation\",\n  \"data\": {\n    \"eventName\": \"Tech Conference 2026\",\n    \"ticketCode\": \"TKT123456\"\n  },\n  \"priority\": \"normal\"\n}"
            },
            "url": {
              "raw": "{{base_url}}/api/notifications/sms",
              "host": ["{{base_url}}"],
              "path": ["api", "notifications", "sms"]
            },
            "description": "Send SMS notification (requires notifications.sms.send permission)"
          },
          "response": []
        },
        {
          "name": "Queue SMS",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"to\": \"{{testPhone}}\",\n  \"message\": \"Queued SMS\",\n  \"template\": \"event_reminder\",\n  \"data\": {\n    \"eventName\": \"Tech Conference 2026\",\n    \"eventDate\": \"2026-06-15\"\n  },\n  \"priority\": \"high\",\n  \"scheduledAt\": \"2026-01-27T10:00:00Z\"\n}"
            },
            "url": {
              "raw": "{{base_url}}/api/notifications/sms/queue",
              "host": ["{{base_url}}"],
              "path": ["api", "notifications", "sms", "queue"]
            },
            "description": "Queue SMS for later delivery (requires notifications.sms.queue permission)"
          },
          "response": []
        },
        {
          "name": "Send Bulk SMS",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"recipients\": [\n    \"+1234567890\",\n    \"+1234567891\",\n    \"+1234567892\"\n  ],\n  \"message\": \"Event reminder: Tech Conference 2026\",\n  \"template\": \"event_reminder\",\n  \"data\": {\n    \"eventName\": \"Tech Conference 2026\"\n  },\n  \"priority\": \"high\"\n}"
            },
            "url": {
              "raw": "{{base_url}}/api/notifications/sms/bulk",
              "host": ["{{base_url}}"],
              "path": ["api", "notifications", "sms", "bulk"]
            },
            "description": "Send bulk SMS notifications (requires notifications.sms.bulk permission)"
          },
          "response": []
        }
      ]
    },
    {
      "name": "Bulk Notifications",
      "item": [
        {
          "name": "Send Mixed Bulk Notifications",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"notifications\": [\n    {\n      \"type\": \"email\",\n      \"to\": \"user1@example.com\",\n      \"subject\": \"Event Update\",\n      \"template\": \"event_update\"\n    },\n    {\n      \"type\": \"sms\",\n      \"to\": \"+1234567890\",\n      \"message\": \"Event update notification\",\n      \"template\": \"event_update\"\n    }\n  ],\n  \"data\": {\n    \"eventName\": \"Tech Conference 2026\",\n    \"updateType\": \"venue_change\"\n  }\n}"
            },
            "url": {
              "raw": "{{base_url}}/api/notifications/bulk/mixed",
              "host": ["{{base_url}}"],
              "path": ["api", "notifications", "bulk", "mixed"]
            },
            "description": "Send mixed bulk notifications (requires notifications.bulk.mixed permission)"
          },
          "response": []
        }
      ]
    },
    {
      "name": "Job Management",
      "item": [
        {
          "name": "Get Job Status",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/api/notifications/job/{{jobId}}/status",
              "host": ["{{base_url}}"],
              "path": ["api", "notifications", "job", "{{jobId}}", "status"]
            },
            "description": "Get notification job status (requires notifications.jobs.read permission)"
          },
          "response": []
        },
        {
          "name": "Cancel Job",
          "request": {
            "method": "DELETE",
            "header": [],
            "url": {
              "raw": "{{base_url}}/api/notifications/job/{{jobId}}/cancel",
              "host": ["{{base_url}}"],
              "path": ["api", "notifications", "job", "{{jobId}}", "cancel"]
            },
            "description": "Cancel a notification job (requires notifications.jobs.cancel permission)"
          },
          "response": []
        }
      ]
    },
    {
      "name": "Specialized Notifications",
      "item": [
        {
          "name": "Send Welcome Email",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"to\": \"{{testEmail}}\",\n  \"data\": {\n    \"userName\": \"{{testFirstName}}\",\n    \"activationLink\": \"https://eventplanner.com/activate/{{userId}}\"\n  }\n}"
            },
            "url": {
              "raw": "{{base_url}}/api/notifications/welcome/email",
              "host": ["{{base_url}}"],
              "path": ["api", "notifications", "welcome", "email"]
            },
            "description": "Send welcome email (requires notifications.welcome.send permission)"
          },
          "response": []
        },
        {
          "name": "Send Welcome SMS",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"to\": \"{{testPhone}}\",\n  \"data\": {\n    \"userName\": \"{{testFirstName}}\",\n    \"activationCode\": \"123456\"\n  }\n}"
            },
            "url": {
              "raw": "{{base_url}}/api/notifications/welcome/sms",
              "host": ["{{base_url}}"],
              "path": ["api", "notifications", "welcome", "sms"]
            },
            "description": "Send welcome SMS (requires notifications.welcome.send permission)"
          },
          "response": []
        },
        {
          "name": "Send Password Reset Email",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"to\": \"{{testEmail}}\",\n  \"data\": {\n    \"userName\": \"{{testFirstName}}\",\n    \"resetLink\": \"https://eventplanner.com/reset/{{userId}}\",\n    \"resetCode\": \"ABC123\"\n  }\n}"
            },
            "url": {
              "raw": "{{base_url}}/api/notifications/password-reset/email",
              "host": ["{{base_url}}"],
              "path": ["api", "notifications", "password-reset", "email"]
            },
            "description": "Send password reset email (requires notifications.password-reset.send permission)"
          },
          "response": []
        },
        {
          "name": "Send Password Reset SMS",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"to\": \"{{testPhone}}\",\n  \"data\": {\n    \"userName\": \"{{testFirstName}}\",\n    \"resetCode\": \"ABC123\"\n  }\n}"
            },
            "url": {
              "raw": "{{base_url}}/api/notifications/password-reset/sms",
              "host": ["{{base_url}}"],
              "path": ["api", "notifications", "password-reset", "sms"]
            },
            "description": "Send password reset SMS (requires notifications.password-reset.send permission)"
          },
          "response": []
        },
        {
          "name": "Send Event Confirmation Email",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"to\": \"{{testEmail}}\",\n  \"data\": {\n    \"userName\": \"{{testFirstName}}\",\n    \"eventName\": \"Tech Conference 2026\",\n    \"eventDate\": \"2026-06-15\",\n    \"eventLocation\": \"Paris, France\",\n    \"ticketCode\": \"TKT123456\"\n  }\n}"
            },
            "url": {
              "raw": "{{base_url}}/api/notifications/event-confirmation/email",
              "host": ["{{base_url}}"],
              "path": ["api", "notifications", "event-confirmation", "email"]
            },
            "description": "Send event confirmation email (requires notifications.event-confirmation.send permission)"
          },
          "response": []
        },
        {
          "name": "Send Event Confirmation SMS",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"to\": \"{{testPhone}}\",\n  \"data\": {\n    \"userName\": \"{{testFirstName}}\",\n    \"eventName\": \"Tech Conference 2026\",\n    \"eventDate\": \"2026-06-15\",\n    \"ticketCode\": \"TKT123456\"\n  }\n}"
            },
            "url": {
              "raw": "{{base_url}}/api/notifications/event-confirmation/sms",
              "host": ["{{base_url}}"],
              "path": ["api", "notifications", "event-confirmation", "sms"]
            },
            "description": "Send event confirmation SMS (requires notifications.event-confirmation.send permission)"
          },
          "response": []
        },
        {
          "name": "Send OTP SMS",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"to\": \"{{testPhone}}\",\n  \"data\": {\n    \"userName\": \"{{testFirstName}}\",\n    \"otpCode\": \"123456\",\n    \"purpose\": \"login_verification\",\n    \"expiresIn\": 300\n  }\n}"
            },
            "url": {
              "raw": "{{base_url}}/api/notifications/otp/sms",
              "host": ["{{base_url}}"],
              "path": ["api", "notifications", "otp", "sms"]
            },
            "description": "Send OTP SMS (requires notifications.otp.send permission)"
          },
          "response": []
        }
      ]
    },
    {
      "name": "Statistics & Monitoring",
      "item": [
        {
          "name": "Get Queue Statistics",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/api/notifications/queues/stats",
              "host": ["{{base_url}}"],
              "path": ["api", "notifications", "queues", "stats"]
            },
            "description": "Get queue processing statistics (requires notifications.stats.read permission)"
          },
          "response": []
        },
        {
          "name": "Clean Queues",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"older_than_hours\": 24\n}"
            },
            "url": {
              "raw": "{{base_url}}/api/notifications/queues/clean",
              "host": ["{{base_url}}"],
              "path": ["api", "notifications", "queues", "clean"]
            },
            "description": "Clean old completed jobs (requires notifications.admin permission)"
          },
          "response": []
        },
        {
          "name": "Get Service Statistics",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/api/notifications/stats",
              "host": ["{{base_url}}"],
              "path": ["api", "notifications", "stats"]
            },
            "description": "Get service statistics (requires notifications.stats.read permission)"
          },
          "response": []
        }
      ]
    },
    {
      "name": "Webhooks",
      "item": [
        {
          "name": "Email Webhook",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "x-api-key",
                "value": "{{webhookApiKey}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"event\": \"email.delivered\",\n  \"data\": {\n    \"messageId\": \"msg_123456\",\n    \"to\": \"user@example.com\",\n    \"status\": \"delivered\"\n  }\n}"
            },
            "url": {
              "raw": "{{base_url}}/api/notifications/webhooks/email",
              "host": ["{{base_url}}"],
              "path": ["api", "notifications", "webhooks", "email"]
            },
            "description": "Webhook for external email events (API key authentication)"
          },
          "response": []
        },
        {
          "name": "SMS Webhook",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "x-api-key",
                "value": "{{webhookApiKey}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"event\": \"sms.delivered\",\n  \"data\": {\n    \"messageId\": \"sms_123456\",\n    \"to\": \"+1234567890\",\n    \"status\": \"delivered\"\n  }\n}"
            },
            "url": {
              "raw": "{{base_url}}/api/notifications/webhooks/sms",
              "host": ["{{base_url}}"],
              "path": ["api", "notifications", "webhooks", "sms"]
            },
            "description": "Webhook for external SMS events (API key authentication)"
          },
          "response": []
        },
        {
          "name": "Bulk Webhook",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "x-api-key",
                "value": "{{webhookApiKey}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"event\": \"bulk.completed\",\n  \"data\": {\n    \"jobId\": \"{{jobId}}\",\n    \"total\": 100,\n    \"sent\": 95,\n    \"failed\": 5\n  }\n}"
            },
            "url": {
              "raw": "{{base_url}}/api/notifications/webhooks/bulk",
              "host": ["{{base_url}}"],
              "path": ["api", "notifications", "webhooks", "bulk"]
            },
            "description": "Webhook for bulk notification events (API key authentication)"
          },
          "response": []
        }
      ]
    },
    {
      "name": "Third-party Integrations",
      "item": [
        {
          "name": "Stripe Webhook",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "stripe-signature",
                "value": "{{webhookSignature}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"type\": \"payment_intent.succeeded\",\n  \"data\": {\n    \"object\": {\n      \"id\": \"pi_123456\",\n      \"amount\": 9999,\n      \"currency\": \"eur\"\n    }\n  }\n}"
            },
            "url": {
              "raw": "{{base_url}}/api/notifications/integrations/stripe",
              "host": ["{{base_url}}"],
              "path": ["api", "notifications", "integrations", "stripe"]
            },
            "description": "Stripe webhook for payment notifications"
          },
          "response": []
        },
        {
          "name": "GitHub Webhook",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "x-hub-signature-256",
                "value": "{{webhookSignature}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"action\": \"created\",\n  \"repository\": {\n    \"name\": \"event-planner\",\n    \"full_name\": \"company/event-planner\"\n  },\n  \"sender\": {\n    \"login\": \"developer\"\n  }\n}"
            },
            "url": {
              "raw": "{{base_url}}/api/notifications/integrations/github",
              "host": ["{{base_url}}"],
              "path": ["api", "notifications", "integrations", "github"]
            },
            "description": "GitHub webhook for repository notifications"
          },
          "response": []
        }
      ]
    },
    {
      "name": "Health & Monitoring",
      "item": [
        {
          "name": "Health Check",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/api/notifications/health",
              "host": ["{{base_url}}"],
              "path": ["api", "notifications", "health"]
            },
            "description": "Basic health check (no authentication required)"
          },
          "response": []
        },
        {
          "name": "API Info",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/api/notifications",
              "host": ["{{base_url}}"],
              "path": ["api", "notifications"]
            },
            "description": "Get API information (no authentication required)"
          },
          "response": []
        }
      ]
    }
  ],
  "event": [
    {
      "listen": "prerequest",
      "script": {
        "exec": [
          "// Auto-refresh token if expired",
          "if (pm.collectionVariables.get('authToken') === 'your_jwt_token_here') {",
          "    pm.collectionVariables.set('authToken', 'your_real_jwt_token');",
          "}"
        ],
        "type": "text/javascript"
      }
    }
  ]
}
